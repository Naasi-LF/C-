## 第7章 用函数实现模块化程序设计

**+ 2.0 分**

1 . `单选题` `简单` `2分`

```
以下叙述中正确的是（ ）。

A.函数的定义可以嵌套，但函数的调用不可以嵌套

B.函数的定义不可以嵌套，但函数的调用可以嵌套✅

C.函数的定义和函数的调用均不可以嵌套

D.函数的定义和函数的调用均可以嵌套
```

回答正确

**解析**

C语言不允许在函数体内嵌套定义函数。在调用一个函数的过程中，又调用另一个函数，称为函数嵌套调用，C语言允许函数多层嵌套调用，只要在函数调用前有函数声明即可。

**老师点评**

暂无评语

**+ 2.0 分**

2 . `单选题` `简单` `2分`

```
以下叙述中正确的是（ ）。

A.C语言编译时不检查语法

B.C语言的子程序有过程和函数两种

C.C语言的函数可以嵌套定义

D.C语言所有函数都是外部函数✅
```

回答正确

**解析**

**C语言中所有的函数本质上都是外部函数**。因此，extern都可以省略。

**老师点评**

暂无评语

**+ 3.0 分**

3 . `单选题` `中等` `3分`

```
以下叙述中错误的是（ ）。

A.全局变量、静态变量的初值是在编译时指定的

B.静态变量如果没有指定初值，则其初值是0

C.局部变量如果没有指定初值，则其初值不确定

D.函数中的静态变量在函数每次调用时，都会重新设置初值✅
```

回答正确

**解析**

根据教材中表4-3对象初始化规则可知，当静态局部对象未初始化，在程序运行前使用0填充。

**老师点评**

暂无评语

**+ 2.0 分**

4 . `单选题` `简单` `2分`

```
以下函数定义正确的是（ ）。

A.必须有形式参数

B.必须有返回类型说明

C.必须有返回语句

D.必须包含函数体✅
```

回答正确

**解析**

无

**老师点评**

暂无评语

**+ 2.0 分**

5 . `单选题` `简单` `2分`

```
以下关于函数的叙述中正确的是（ ）。

A.每个函数都可以被其它函数调用（包括main函数）

B.每个函数都可以被单独编译✅

C.每个函数都可以单独运行

D.在一个函数内部可以定义另一个函数
```

回答正确

**解析**

C语言中，除了主函数外，用户定义的函数或库函数都可以互相进行调用，甚至可以自己调用自己。所以选项A错误。每个函数可以单独被编译成二进制代码，但不是所有的函数都可以单独运行，程序的运行需要从主函数main开始，缺少main函数，则无法运行。所以选项C错误。C语言规定，不能在一个函数内部再定义函数，所以选项D错误。

**老师点评**

暂无评语

**+ 3.0 分**

6 . `单选题` `简单` `3分`

```c
以下函数定义正确的是（ ）。

A.double f(int x,int y) {	z=x+y ; 	return z ;    }

B.double f(int x,y) {	double z=x+y ; 	return z ;     }

C.double f(x,y) {   int x, y ;         double z ;    z=x+y;    return z ;    }

D.double f(int x,int y) {	double z ; 	z = x+y ; 	return z ;    }✅
```

回答正确

**解析**

无

**老师点评**

暂无评语

**+ 2.0 分**

7 . `单选题` `简单` `2分`

```c
若调用一个函数int f()，且此函数中没有return语句，则正确的说法是（ ）。

A.该函数没有返回值

B.该函数返回一个系统默认值

C.该函数返回一个确定的值

D.该函数返回一个不确定的值✅
```

回答正确

**解析**

当函数的返回类型是int时，如果函数体中没有return语句时，将在函数调用结束后随机**返回一个不确定值**。

**老师点评**

暂无评语

**+ 2.0 分**

8 . `单选题` `简单` `2分`

```c
对于函数返回类型，不正确的说法是（ ）。

A.可以是int类型

B.可以是数组类型✅

C.可以是char类型

D.可以是void类型
```

回答正确

**解析**

返回类型可以是C语言除数组之外的内置数据类型或自定义类型。C语言规定**一个函数如果没有给出返回类型**，则默认是**int型**。

**老师点评**

暂无评语

**+ 2.0 分**

9 . `单选题` `简单` `2分`

```c
若已定义的函数有返回值，则以下关于该函数调用的叙述中错误的是（ ）。

A.函数调用可以作为独立的语句存在

B.函数调用可以作为一个函数的实参

C.函数调用可以出现在表达式中

D.函数调用可以作为一个函数的形参✅
```

回答正确

**解析**

无

**老师点评**

暂无评语

**实参和形参的区别**

```c
int qw(int a)//这里的  a   便是形式参数（形参）
{
	a = 0;
	return a;
} 
#include<stdio.h>
int main()
{
	int b = 10;
	int c;
	c = qw(b); //这里的  b   便是实际参数（实参）
	printf("%d", c);
	return 0;
}
```

**+ 2.0 分**

10 . `单选题` `简单` `2分`

```
基本类型变量做实参时，它和对应的形参之间的数据传递方式是（ ）。

A.值传递✅

B.地址传递

C.由实参传给形参，再由形参传给实参

D.由函数定义指定传递方式
```

回答正确

**解析**

C语言中，值传递是唯一的参数传递方式。值传递时，实参数据传递给形参是单向传递，即只能由实参传递给形参，而不能由形参传回给实参，这也是实参可以是常量和表达式的原因（这些数据不是左值）。

**老师点评**

暂无评语

**+ 2.0 分**

11 . `单选题` `简单` `2分`

```
以下叙述中错误的是（ ）。

A.实参可以是常量、变量或表达式

B.形参可以是常量、变量或表达式✅

C.实参可以为任意类型

D.如果形参与实参的类型不一致，以形参类型为准
```

回答正确

**解析**

形参可以是变量。

**形参不可以是常量。**

形参通常也不可以是表达式,但可以是某些特殊的表达式。例如: a[]

**老师点评**

暂无评语

**+ 2.0 分**

12 . `单选题` `简单` `2分`

```
在函数调用时，以下叙述中正确的是（ ）。

A.函数调用后必须带回返回值

B.实际参数和形式参数可以同名✅

C.函数间的数据传递不可以使用全局变量

D.主调函数和被调函数总是在同一个文件里
```

回答正确

**解析**

无

**老师点评**

暂无评语

**+ 4.0 分**

13 . `单选题` `中等` `4分`

设函数f的定义形式为：

```c
void f( char ch, float x )
{
	... ...
}
```

```c
则以下对函数f的调用语句中，正确的是（ ）。

A.f("abc",3.0);

B.t=f('D',16.5);

C.f('65',2.8);

D.f(32,32);✅
```

回答正确

**解析**

函数f没有返回值，所以B选项错误；函数f的第一个参数类型为字符型，所以A和C选项错误。

**老师点评**

暂无评语

**+ 3.0 分**

14 . `单选题` `简单` `3分`

若程序中定义了以下函数：

```c
	double f( double a, double b )
{
	return(a + b);
}
```

将其放在调用语句之后，则在调用之前应该对该函数进行函数原型说明，以下选项中错误的说明是（ ）。

A.double f(double a,B);✅

B.double f(double,double);

C.double f(double b,double A);

D.double f(double x,double y);

回答正确

**解析**

无

**老师点评**

暂无评语

**+ 3.0 分**

15 . `单选题` `简单` `3分`

下面程序执行后的输出结果是（ ）。

```
#include <stdio.h>
void F( int x )
{
	return(3 * x * x);
}

int main()
{
	printf( "%d", F( 3 + 5 ) );
	return(0);
}
```

A.192

B.29

C.25

D.编译出错✅

回答正确

**解析**

没有返回值的函数只能是函数调用语句的形式，不能作为另一次函数调用的实参。

**老师点评**

暂无评语

**+ 3.0 分**

16 . `单选题` `简单` `3分`

```c
关于函数原型声明，以下叙述中错误的是（ ）。

A.如果函数定义出现在函数调用之前，可以不必加函数原型声明
    
B.如果在所有函数定义之前，在函数外部已做了声明，则各个主调函数不必再做函数原型声明

C.函数在调用之前，一定要给出函数原型或函数定义，保证编译系统进行调用检查

D.标准库函数不需要函数原型声明✅
```

回答正确

**解析**

库函数的函数原型在对应的头文件中，**使用include预处理命令进行包含**。

**老师点评**

暂无评语

**+ 5.0 分**

17 . `单选题` `中等` `5分`

有以下程序段：

```c
int fun1( double a )
{
	return(a *= a);
}

int fun2( double x, double y )
{
	double a = 0, b = 0;
	a = fun1( x ); b = fun1( y ); return( (int) (a + b) );
}
```

double w;执行语句w=fun2(1.1,2.0);后变量w的值是（ ）。

A.5.21

B.5

C.5.0✅

D.0.0

回答正确

**解析**

函数fun2把int(x*x)+int(y*y)的值返回，即int(1.1*1.1)+int(2.0*2.0)，然后转换为double类型赋值给w。所以w值为5.0。

**老师点评**

暂无评语

**+ 2.0 分**

18 . `单选题` `简单` `2分`

```c
在某源程序文件中，若全局变量与局部变量同名，则（ ）。

A.视为同一个变量

B.变量作用域不确定

C.不允许

D.允许✅
```

回答正确

**解析**

在不同区域中允许定义相同名字的变量，但本质上它们是不同的变量。如果一个变量所处区域的子区域中有同名的变量，则该变量在子区域无效，有效的是子区域的变量，称为定义屏蔽。

**老师点评**

暂无评语

**+ 5.0 分**

19 . `单选题` `中等` `5分`

下面程序执行后的输出结果是（ ）。

```c
#include <stdio.h>
int a = 3;
int main()
{
	int s = 0;
	{
		int a = 5; s += a++;//s=s+a++
	}
	s += a++;
	printf( "%d", s );
	return(0);
}
```

A.7

B.8✅

C.10

D.11

回答正确

**解析**

复合语句中s+=a++使用的是复合语句的局部变量a，第二次s+=a++使用的是全局变量a。

**老师点评**

暂无评语

**+ 2.0 分**

20 . `单选题` `简单` `2分`

```
以下叙述中错误的是（ ）。

A.形参的存储单元是动态分配的

B.函数中的局部变量都是动态存储✅

C.全局变量都是静态存储

D.动态分配变量的存储空间在函数结束调用后就被释放了
```

回答正确

**解析**

**局部变量可以定义成static变量**，使用静态存储机制。

**老师点评**

暂无评语

**+ 2.0 分**

21 . `单选题` `简单` `2分`

```
若变量定义时未初始化，则其值不确定的是（ ）。

A.静态全局变量

B.局部变量✅

C.静态局部变量

D.静态变量
```

回答正确

**解析**

未初始化的静态变量会在程序运行前进行填充0。

**老师点评**

暂无评语

**+ 2.0 分**

22 . `填空题` `简单` `2分`

若函数定义为：

```c
int data()
{
	float x = 9.9;
	return(x);
}
```

则函数返回的值是_9__。

**解析**

以函数定义的返回类型为准。

**老师点评**

暂无评语

**+ 5.0 分**

23 . `填空题` `中等` 5分

对于以下递归函数f，调用f(4)的返回值是_10__。

```c
int f( int n )
{
	if ( n )
		return(f( n - 1 ) + n);
	else return(n);
}
```

**解析**

递归调用，f(0)=0,f(1)=f(0)+1,……

$f(4)=f(3)+4\\f(3)=f(2)+3\\f(2)=f(1)+2\\f(1)=f(0)+1\\f(0)=0$

**老师点评**

暂无评语

**+ 0.0 分**

24 . `填空题` `中等` `6分`

下面程序运行时从键盘上输入：-125↙，写出程序的运行结果_`-125=-5*5*5`__。

```c
#include <stdio.h>
#include <math.h>
void fun( int n )//int n=125
{
	int k, r;
	for ( k = 2; k <= sqrt( n ); k++ )//k<=15
	{
		r = n % k;//r=125%2
		while ( !r )//如果被整除
		{
			printf( "%d", k );//k为一个因子
			n = n / k;//再看剩余部分
			if ( n > 1 )
				printf( "*" );
			r = n % k;
		}
	}
	if ( n != 1 )
		printf( "%d\n", n );
}

int main()
{
	int n;
	scanf( "%d", &n );//n=-125
	printf( "%d=", n );
	if ( n < 0 )
		printf( "-" );
	n = abs( n );//n=125
	fun( n );
	return(0);
}
```

**答案**

`-125=-5*5*5`

**解析**

将n分解成质数的乘积。

**老师点评**

暂无评语

**+ 6.0 分**

25 . `填空题` `中等` `6分`

下面程序运行时从键盘上输入：282↙，写出程序的运行结果_32__。

```c
#include <stdio.h>
int sub( int n )//int n=282
{
	int s = 1;
	do
	{
		s *= n % 10; n /= 10;//s=s*(282 % 10)=2
	}
    //1*2*8*2
	while ( n );
	return(s);
}

int main()
{
	int n;
	scanf( "%d", &n );//n=282
	n = sub( n );
	printf( "%d\n", n );
	return(0);
}
```

**解析**

计算n的各个数字位数字乘积。

**老师点评**

暂无评语

**+ 6.0 分**

26 . `填空题` `中等` `6分`

下面程序运行时从键盘上输入：1234↙，写出程序的运行结果_10__。

```c
#include <stdio.h>
int sub( int n )
{
	return(n / 10 + n % 10);
}

int main()
{
	int x, y;
	scanf( "%d", &x );
	y = sub( sub( sub( x ) ) );
	printf( "%d", y );
	return(0);
}
```

**解析**

计算整数各数字位之和。

**老师点评**

暂无评语

**+ 6.0 分**

27 . `填空题` `中等` `6分`

写出下面程序执行后的运行结果_SUM=55__。

```c
#include <stdio.h>
int SUM( int n )
{
	if ( n == 1 )
		return(1);
	else return(n * n + SUM( n - 1 ) );
}
//5*5+4*4+3*3+2*2+1*1
int main()
{
	printf( "SUM=%d", SUM( 5 ) );
	return(0);
}
```

**解析**

从1到n的整数平方和

**老师点评**

暂无评语

**+ 6.0 分**

28 . `填空题` `中等` `6分`

写出下面程序执行后的运行结果_8,17__。

```c
#include <stdio.h>
int func( int a, int b )//a=4,b=1
{
	static int m = 0, i = 2;//i=3,m=8
	i += m + 1; m = i + a + b;
    //i=i+(m+1),i=2+0+1=3//i=3+8+1=12
    //m=i+a+b,m=3+5=8//m=12+5=17
	return(m);
}

int main()
{
	int k = 4, m = 1, p1, p2;
	p1	= func( k, m );
    //func(4,1)
	p2	= func( k, m );
    //func(4,1)
	printf( "%d,%d", p1, p2 );
	return(0);
}
```

**解析**

静态变量的生命期：func函数中m,i是静态局部变量，每次调用func函数时在上一次的值基础之上进行操作。

**老师点评**

暂无评语

**+ 6.0 分**

29 . `填空题` `中等` `6分`

写出下面程序执行后的运行结果_a=5 b=15__。

```c
#include <stdio.h>
int f()
{
	int x = 1;
	return(x++);
}

int g()
{
	static int x = 1;
	return(x++);//不会消失 1,2,3,4,5,6,7,8,9,10
}

int main()
{
	int i, a = 0, b = 0;
	for ( i = 0; i < 5; i++ )//循环五次
	{
		a	+= f();//5
		b	+= g();//1+2+3+4+5=15
	}
	printf( "a=%d b=%d", a, b );
	return(0);
}
```

**解析**

f函数的x是动态局部变量，每次调用重新创建，调用结束后销毁；9函数的x是静态局部变量，程序运行前创建，程序结束运行后销毁。

**老师点评**

暂无评语

**+ 2.0 分**

30 . `单选题` `简单` `2分`

```c
C语言规定，函数返回值的类型是由（ ）决定的。

A.return语句中的表达式类型

B.调用该函数时的主调函数

C.调用该函数时由系统临时

D.在定义函数时所指定的函数类型✅
```

回答正确

**解析**

函数返回值的类型是由函数定义中的返回类型来决定的。当return表达式的类型与此不相同时，返回时会进行隐式类型转换；如果不能转换，则出现编译错误。

**老师点评**

暂无评语

1 . `编程题` `中等` `25分`

**递归调用球反弹**

编程实现：一球从100米高度自由落下，每次落地后反弹回原高度的一半，再落下，求它在第n次落地时反弹多高？到最高点时一共经过了多少米？（保留4位小数）递归调用函数double ball(int n)实现，n从键盘输入。

| 输入：                      |
| --------------------------- |
| 10                          |
| 输出 ：                     |
| Input n:                    |
| high=0.0977,length=299.7070 |

```c
#include<stdio.h>
#include<stdlib.h>

float high[101];
float length[101];
 
double ball(int n)
{
    if (n==1)
    {
        return 50.0;
    }
    else return ball(n-1)/2;
    
};

int main()
{
    int n;
    scanf("%d",&n);

    for (int i = 1; i <= n; i++)
    {
        high[i]=ball(i);
    }
    
    length[1]=100+50;
    for (int i = 2; i <= n; i++)
    {
        length[i]=length[i-1]+high[i]*3;
    }
    
    printf("%.4f,%.4f",high[n],length[n]);

}
```

2 . `编程题` `困难` `30分`

**编写函数进行选择法排序**

编写函数void sort(int a[N], int ud)，功能是根据参数ud的值对数组进行选择法排序，ud为1时升序，否则降序。N个整数和排序方法ud在主函数中输入，提交时N设定为10。

| 输入                                 |
| ------------------------------------ |
| 3 -5 12 5 8 2 12 34 65 -10           |
| 再输入                               |
| 1                                    |
| 输出                                 |
| Input 10 numbers:                    |
| Input integer 1(up) or others(down): |
| Result:                              |
| -10 -5 2 3 5 8 12 12 34 65           |
| 否则输出                             |
| Input 10 numbers:                    |
| Input integer 1(up) or others(down): |
| Result:                              |
| 65 34 12 12 8 5 3 2 -5 -10           |

```c
#include<stdio.h>
#include<stdlib.h>

#define N 10

/*
3 -5 12 5 8 2 12 34 65 -10
*/
void replace(int* a,int* b)
{
    int temp;
    temp=*a;
    *a=*b;
    *b=temp;
}

void sort(int a[], int ud)
{
    
    //冒泡
    for (int i = 1; i <= N-1; i++) 
        for (int j = 1; j <= N-i; j++)
            if (*(a+j)>*(a+j+1))
                replace((a+j),(a+j+1));//替换
            
    if (ud==1)
      return;
    
    else//降序
        for (int i = 1,j = N ; i <= N/2; i++,j--)//颠倒
            replace((a+i),(a+j));
}

int main()
{
    int a[101]={0};
    for (int i = 1; i <= N; i++)
        scanf("%d",a+i);
    int ud;
    scanf("%d",&ud);
    sort(a,ud);    
    for (int i = 1; i <= N; i++)
      printf("%d ",*(a+i));
}
```

3 . `编程题` `中等` `25分`

**函数返回字符串表示的十六进制数对应的十进制数**

编写函数long  htod(char s[])，函数返回字符串s表示的十六进制数所对应的十进制数。主函数中输入字符串，输出对应的十进制数。

| 输入：       |
| ------------ |
| 1aB3         |
| 输出：       |
| Input a Hex: |
| Dec:         |
| 6835         |

```c
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>
#include<ctype.h>

long htod(char *s)
{
    long sum=0;
    for (int i = 1; s[i]!=0; i++)
    {
        if(isdigit(s[i]))
          sum+=(s[i]-'0')*pow(16,i-1);
        if(islower(s[i]))
          sum+=(s[i]-'a'+10)*pow(16,i-1);
        if(isupper(s[i]))
          sum+=(s[i]-'A'+10)*pow(16,i-1);
    }
    return sum;
}
int main()
{
    char s[101];
    gets(s+1);
    int len=strlen(s+1);
    for (int i = 1,j = len; i<=len/2 ; i++,j--)
    {
        int temp;
        temp=s[i];
        s[i]=s[j];
        s[j]=temp;
    }    
    printf("%ld",htod(s));
}
```

```c
#include <stdio.h>
long htod(char s[])
{
    int number;
    sscanf(s, "%x", &number);
    return number;
}

int main() 
{
    char s[101];
    printf("Input a Hex:\n");
    scanf("%s",s);
    printf("Dec:\n%d\n",htod(s));
    return 0;
}
```

|  函数   |             相同点1              |        相同点1         | 不同点 |
| :-----: | :------------------------------: | :--------------------: | :----: |
| sscanf  | 不用于与外部设备之间进行数据传输 | 数据与字符串之间的转换 | 左到右 |
| sprintf |               ---                |          ---           | 右到左 |

4 . `编程题` `中等` `20分`

**编写函数将字符串逆序连接**

编写函数void cat_rev(char s[])，实现将字符串s与其逆序字符串连接。主函数中输入初始字符串，输出连接后的字符串。

| 输入：                       |
| ---------------------------- |
| aBc?123                      |
| **输出:**                    |
| Input a string:              |
| Result catenated in reverse: |
| aBc?123321?cBa               |

```c
#include<stdio.h>
#include<stdlib.h>

void cat_rev(char s[])
{
    int i=1,len=0;
    while (s[i++]!=0)
      len++;
    for (int i = len,j = len+1; j <= 2*len; j++,i--)
      s[j]=s[i];
    s[2*len+1]=0;
}
int main()
{
    char s[101];
    gets(s+1);
    cat_rev(s);
    puts(s+1);
}
```
